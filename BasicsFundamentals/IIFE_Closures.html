<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p>IIFE and Closures Fundamentals</p>
</body>
</html>
<script>
    // IIFE - Immediately Invoked Function Expression
    (function(){
        console.log('This will never run again');
    })();

    //--> Arrow function
    (()=>{
        console.log('This will also never run again');
    })();

    /*---------------------------Closures----------------------------*/

     /*closure is combination of the funciton bundled togther with reference to its lexical scoping(i.e when a child function access the parent function variable then that variable is in closure).
      */

      function grandParent(){
        let a=100;
        let b=200;
        function parent(){
            let c=300;
            function child(){
                let d=400;
                console.log(a,b,c,d);
            }
            return child;
        }
        return parent;
      }

      const res=grandParent(); //whole parent function will returned
      console.log(res);
      res();
      console.log(res());

      const finalres=res();
      //console.log(finalres);
     finalres();
     //so closure(parent)---> c=300 as child function is using that outer scope variable
     //closure(grandparent)---> a=100 and b=200 as child function is using outer scope grandpar variable
     /*hence wherever this child function will be called it although the grandparent and parent function are poped out of stack but then also child function will carry outerscope variables and can be accessible everywhere*/


     //Assignment of closure in Newton...
    let generatefunction=function(){
        let count=0;
        function func(){
           count++;
           return "Total orders = " + count;
        }
        
        return func;
    }
//   let starting=1;
    let initC=generatefunction();
    console.log(initC());
    console.log(initC());
    console.log(initC());
</script>